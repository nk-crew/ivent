/*!
 * ivents v0.1.0 (https://github.com/nk-crew/ivents)
 * Copyright 2023 nK <https://nkdev.info>
 * Licensed under MIT (https://github.com/nk-crew/ivents/blob/master/LICENSE)
 */
let e=1;function t(t,n){return n&&`${n}::${e++}`||t.uidEvent||e++}const n={};function o(e){const o=t(e);return e.uidEvent=o,n[o]=n[o]||{},n[o]}const r=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]),c=/[^.]*(?=\..*)\.|.*/,l=/\..*/,u={mouseenter:"mouseover",mouseleave:"mouseout"};function a(e){const t=e.replace(l,"");return{event:u[t]||t,originalEvent:t,namespace:e.replace(c,"")||!1,isNative:r.has(t)}}function i(e,t,n){const o="string"==typeof t,r=o?n:t||n,c=a(e);let l=c.event;return c.isNative||(l=e),[o,r,l,c]}const s=/::\d+$/;function f(e,t,n,r){"string"==typeof t&&e&&t.split(" ").forEach((t=>{const[c,l,u,a]=i(t,n,r),f=o(e),d=f[u]||{},p=t.startsWith(".");if(void 0===l){if(p)for(const n of Object.keys(f))m(e,f,n,t.slice(1));for(const[n,o]of Object.entries(d)){const r=n.replace(s,"");a.namespace&&!t.includes(r)||v(e,f,u,o.callable,o.delegationSelector)}}else{if(!Object.keys(d).length)return;v(e,f,u,l,c?n:null)}}))}function d(e,t={}){for(const[n,o]of Object.entries(t))try{e[n]=o}catch{Object.defineProperty(e,n,{configurable:!0,get:()=>o})}return e}function p(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function g(e,n,r,c,l){let[u,a,s,g]=i(n,r,c);if(g.event!==g.originalEvent){const e=e=>function(t){return(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))&&e.call(this,t)};a=e(a)}const v=o(e),m=v[s]||(v[s]={}),b=p(m,a,u?r:null);if(b)return void(b.oneOff=b.oneOff&&l);const y=t(a,g.namespace),h=u?function(e,t,n){return function o(r){const c=e.querySelectorAll(t);for(let{target:l}=r;l&&l!==this;l=l.parentNode)for(const u of c)if(u===l)return d(r,{delegateTarget:l}),o.oneOff&&f(e,r.type,t,n),n.apply(l,[r]);return!1}}(e,r,a):function(e,t){return function n(o){return d(o,{delegateTarget:e}),n.oneOff&&f(e,o.type,t),t.apply(e,[o])}}(e,a);h.delegationSelector=u?r:null,h.callable=a,h.oneOff=l,h.uidEvent=y,m[y]=h,e.addEventListener(s,h,u)}function v(e,t,n,o,r){const c=p(t[n],o,r);c&&(e.removeEventListener(n,c,Boolean(r)),delete t[n][c.uidEvent])}function m(e,t,n,o){const r=t[n]||{};for(const[c,l]of Object.entries(r))c.includes(o)&&v(e,t,n,l.callable,l.delegationSelector)}function b(e,t,n,o){"string"==typeof t&&e&&t.split(" ").forEach((t=>{g(e,t,n,o,!1)}))}function y(e,t,n,o){"string"==typeof t&&e&&t.split(" ").forEach((t=>{g(e,t,n,o,!0)}))}function h(e,t,n){if("string"!=typeof t||!e)return null;const o=window.jQuery?window.jQuery:null;let r=null,c=!0,l=!0,u=!1;a(t).namespace&&o&&(r=o.Event(t,n),o(e).trigger(r),c=!r.isPropagationStopped(),l=!r.isImmediatePropagationStopped(),u=r.isDefaultPrevented());const i=d(new Event(t,{bubbles:c,cancelable:!0}),n);return u&&i.preventDefault(),l&&e.dispatchEvent(i),i.defaultPrevented&&r&&r.preventDefault(),i}export{f as off,b as on,y as one,h as trigger};//# sourceMappingURL=ivents.esm.min.js.map
