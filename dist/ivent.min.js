/*!
 * ivent v0.1.0 (https://github.com/nk-crew/ivent)
 * Copyright 2023 nK <https://nkdev.info>
 * Licensed under MIT (https://github.com/nk-crew/ivent/blob/master/LICENSE)
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).ivent={})}(this,(function(e){"use strict";let t=1;function n(e,n){return n&&`${n}::${t++}`||e.uidEvent||t++}const o={};function r(e){const t=n(e);return e.uidEvent=t,o[t]=o[t]||{},o[t]}const c=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]),i=/[^.]*(?=\..*)\.|.*/,l=/\..*/,s={mouseenter:"mouseover",mouseleave:"mouseout"};function u(e){const t=e.replace(l,"");return{event:s[t]||t,originalEvent:t,namespace:e.replace(i,"")||!1,isNative:c.has(t)}}function a(e,t,n){const o="string"==typeof t,r=o?n:t||n,c=u(e);let i=c.event;return c.isNative||(i=e),[o,r,i,c]}const f=/::\d+$/;function d(e,t,n,o){"string"==typeof t&&e&&t.split(" ").forEach((t=>{const[c,i,l,s]=a(t,n,o),u=r(e),d=u[l]||{},p=t.startsWith(".");if(void 0===i){if(p)for(const n of Object.keys(u))b(e,u,n,t.slice(1));for(const[n,o]of Object.entries(d)){const r=n.replace(f,"");s.namespace&&!t.includes(r)||m(e,u,l,o.callable,o.delegationSelector)}}else{if(!Object.keys(d).length)return;m(e,u,l,i,c?n:null)}}))}function p(e,t={}){for(const[n,o]of Object.entries(t))try{e[n]=o}catch{Object.defineProperty(e,n,{configurable:!0,get:()=>o})}return e}function g(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function v(e,t,o,c,i){let[l,s,u,f]=a(t,o,c);if(f.event!==f.originalEvent){const e=e=>function(t){return(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))&&e.call(this,t)};s=e(s)}const v=r(e),m=v[u]||(v[u]={}),b=g(m,s,l?o:null);if(b)return void(b.oneOff=b.oneOff&&i);const y=n(s,f.namespace),h=l?function(e,t,n){return function o(r){const c=e.querySelectorAll(t);for(let{target:i}=r;i&&i!==this;i=i.parentNode)for(const l of c)if(l===i)return p(r,{delegateTarget:i}),o.oneOff&&d(e,r.type,t,n),n.apply(i,[r]);return!1}}(e,o,s):function(e,t){return function n(o){return p(o,{delegateTarget:e}),n.oneOff&&d(e,o.type,t),t.apply(e,[o])}}(e,s);h.delegationSelector=l?o:null,h.callable=s,h.oneOff=i,h.uidEvent=y,m[y]=h,e.addEventListener(u,h,l)}function m(e,t,n,o,r){const c=g(t[n],o,r);c&&(e.removeEventListener(n,c,Boolean(r)),delete t[n][c.uidEvent])}function b(e,t,n,o){const r=t[n]||{};for(const[c,i]of Object.entries(r))c.includes(o)&&m(e,t,n,i.callable,i.delegationSelector)}e.off=d,e.on=function(e,t,n,o){"string"==typeof t&&e&&t.split(" ").forEach((t=>{v(e,t,n,o,!1)}))},e.one=function(e,t,n,o){"string"==typeof t&&e&&t.split(" ").forEach((t=>{v(e,t,n,o,!0)}))},e.trigger=function(e,t,n){if("string"!=typeof t||!e)return null;const o=window.jQuery?window.jQuery:null;let r=null,c=!0,i=!0,l=!1;u(t).namespace&&o&&(r=o.Event(t,n),o(e).trigger(r),c=!r.isPropagationStopped(),i=!r.isImmediatePropagationStopped(),l=r.isDefaultPrevented());const s=p(new Event(t,{bubbles:c,cancelable:!0}),n);return l&&s.preventDefault(),i&&e.dispatchEvent(s),s.defaultPrevented&&r&&r.preventDefault(),s}}));//# sourceMappingURL=ivent.min.js.map
