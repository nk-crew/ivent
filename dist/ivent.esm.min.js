/*!
 * ivent v0.2.0 (https://github.com/nk-crew/ivent)
 * Copyright 2023 nK <https://nkdev.info>
 * Licensed under MIT (https://github.com/nk-crew/ivent/blob/master/LICENSE)
 */
let e=1;function t(t,n){return n&&`${n}::${e++}`||t.uidEvent||e++}const n={};function o(e){const o=t(e);return e.uidEvent=o,n[o]=n[o]||{},n[o]}const r=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]),c=/[^.]*(?=\..*)\.|.*/,l=/\..*/,a={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"};function i(e){const t=e.replace(l,"");return{event:a[t]||t,originalEvent:t,namespace:e.replace(c,"")||!1,isNative:r.has(t)}}function u(e,t,n){const o="string"==typeof t,r=o?n:t||n,c=i(e);let l=c.event;return c.isNative||(l=e),[o,r,l,c]}const s=/::\d+$/;function f(e,t,n,r){"string"==typeof t&&e&&t.split(" ").forEach((t=>{const[c,l,a,i]=u(t,n,r),f=o(e),d=f[a]||{},p=t.startsWith(".");if(void 0===l){if(p)for(const n of Object.keys(f))m(e,f,n,t.slice(1));for(const[n,o]of Object.entries(d)){const r=n.replace(s,"");i.namespace&&!t.includes(r)||v(e,f,a,o.callable,o.delegationSelector)}}else{if(!Object.keys(d).length)return;v(e,f,a,l,c?n:null)}}))}function d(e,t={}){for(const[n,o]of Object.entries(t))try{e[n]=o}catch{Object.defineProperty(e,n,{configurable:!0,get:()=>o})}return e}function p(e,t,n=null){return Object.values(e).find((e=>e.callable===t&&e.delegationSelector===n))}function g(e,n,r,c,l){let[a,i,s,g]=u(n,r,c);if(g.event!==g.originalEvent){const e=e=>function(t){return(!t.relatedTarget||t.relatedTarget!==t.delegateTarget&&!t.delegateTarget.contains(t.relatedTarget))&&e.call(this,t)};i=e(i)}const v=o(e),m=v[s]||(v[s]={}),y=p(m,i,a?r:null);if(y)return void(y.oneOff=y.oneOff&&l);const b=t(i,g.namespace),h=a?function(e,t,n){return function o(r){const c=e.querySelectorAll(t);for(let{target:l}=r;l&&l!==this;l=l.parentNode)for(const a of c)if(a===l)return d(r,{delegateTarget:l}),o.oneOff&&f(e,r.type,t,n),n.apply(l,[r]);return!1}}(e,r,i):function(e,t){return function n(o){return d(o,{delegateTarget:e}),n.oneOff&&f(e,o.type,t),t.apply(e,[o])}}(e,i);h.delegationSelector=a?r:null,h.callable=i,h.oneOff=l,h.uidEvent=b,m[b]=h,e!==document||"ready"!==s||a||(s="DOMContentLoaded","loading"===document.readyState)?e.addEventListener(s,h,a):h(new CustomEvent("ready"))}function v(e,t,n,o,r){const c=p(t[n],o,r);c&&(e.removeEventListener(n,c,Boolean(r)),delete t[n][c.uidEvent])}function m(e,t,n,o){const r=t[n]||{};for(const[c,l]of Object.entries(r))c.includes(o)&&v(e,t,n,l.callable,l.delegationSelector)}function y(e,t,n,o){"string"==typeof t&&e&&t.split(" ").forEach((t=>{g(e,t,n,o,!1)}))}function b(e,t,n,o){"string"==typeof t&&e&&t.split(" ").forEach((t=>{g(e,t,n,o,!0)}))}function h(e,t,n){if("string"!=typeof t||!e)return null;const o=window.jQuery?window.jQuery:null;let r=null,c=!0,l=!0,a=!1;i(t).namespace&&o&&(r=o.Event(t,n),o(e).trigger(r),c=!r.isPropagationStopped(),l=!r.isImmediatePropagationStopped(),a=r.isDefaultPrevented());const u=d(new Event(t,{bubbles:c,cancelable:!0}),n);return a&&u.preventDefault(),l&&e.dispatchEvent(u),u.defaultPrevented&&r&&r.preventDefault(),u}export{f as off,y as on,b as one,h as trigger};//# sourceMappingURL=ivent.esm.min.js.map
